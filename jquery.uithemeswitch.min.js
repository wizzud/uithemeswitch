/*
 jquery.uithemeswitch.js v1.0.2
 requires jquery v1.4.3+, jquery.ui.accordion.js, and optionally jquery.cookie.js
*/
(function(a){a.uithemeswitch||(a.uithemeswitch={version:"1.0.2",options:{uiVersion:a.ui.version,compact:0,loadTheme:"",textPrompt:"Switch Theme",textCurrent:"Theme: ",textReset:"Reset Theme",textRemember:"Remember",closeSelect:1,closeMouseout:"all",cookie:1,cookieName:"jquery-ui-theme",cookieExpires:null,cookiePath:"",cookieDomain:"",cookieSecure:"https:"===window.location.protocol,showRemember:0,forceRemember:null,keep:2,sorted:1,showReset:0,themeRollover:1,onLoad:a.noop,onRemember:a.noop,onReset:a.noop,
onSelect:a.noop},cssCDN:"//ajax.googleapis.com/ajax/libs/jqueryui/{uiVersion}/themes/{folder}/jquery-ui.css",thumbCDN:"http://static.jquery.com/ui/themeroller/images/themeGallery/theme_{thumbsize}_{thumb}.png",themes:{"UI Lightness":{thumb:"ui_light"},"UI Darkness":{thumb:"ui_dark"},Smoothness:{},Start:{thumb:"start_menu"},Redmond:{thumb:"windoze"},Sunny:{},Overcast:{},"Le Frog":{},Flick:{},"Pepper Grinder":{},Eggplant:{},"Dark Hive":{},Cupertino:{},"South St":{folder:"south-street"},Blitzer:{},Humanity:{},
"Hot Sneaks":{},"Excite Bike":{},Vader:{thumb:"black_matte"},"Dot Luv":{},"Mint Choc":{thumb:"mint_choco"},"Black Tie":{},Trontastic:{},"Swanky Purse":{}},instCt:0,current:"",resetTo:"",bcls:"",destroy:function(){var f=a(".uithemeswitch-content, .uithemeswitch-header",this).hide();a(this).accordion("destroy").removeClass("uithemeswitch").removeData("uithemeswitch");f.remove();a.uithemeswitch.instCt--},init:function(f){var o=a(this),d=a.uithemeswitch,c=a.extend({},d.options,f),f=!!c.compact,e=parseInt(c.keep,
10),y=d.cssCDN.replace(/\{uiVersion\}/g,c.uiVersion),z=d.thumbCDN.replace(/\{thumbsize\}/g,f?"30":"90"),g={},m={},t=function(){var a={},b,h;for(b in c)(h=b.match(/^cookie(\w+)$/))&&(a[h[1].toLowerCase()]=c[b]);return a}(),p=a.isFunction(c.cookie)?c.cookie:!c.cookie||!t.name||!a.cookie?0:function(k,b){return 1<arguments.length?a.cookie(k.name,b||null,k):a.cookie(k.name,k)},q=!p?"":p(t)||"",u=q||c.loadTheme||"",s=0,r="",n=!!p&&!1!==c.forceRemember&&(!0===c.forceRemember||!!q||!c.showRemember),q=a('<div><a href="#"></a></div>'),
i=0,b=function(a,b){return(b?".":"")+"uithemeswitch"+(a||"")},v=function(){a(b("",1)).each(function(){var k=a(this),c=k.data(b()),h=k.accordion("option","animated");c.options.closeSelect&&(a(b("-ul",1),k.accordion("option","animated",!1)).get(0).scrollTop=0,k.accordion("activate",!1).accordion("option","animated",h))})},w=function(a,b){p&&p(t,n&&a?a:null,b)},x=function(k,c){var h=a("body").get(0),j=a(b("",1)),l;h&&(l=a.grep(a.trim(h.className||"").split(/\s+/),function(a){return!/^uithemeswitch-theme-/.test(a)}),
k?l.push(b("-theme-")+c.cls):d.bcls&&l.push(d.bcls),h.className=l.join(" "));a(b("-current-theme",1)).text(k);a(".ui-state-active",j.toggleClass(b("-themed"),!!k)).removeClass("ui-state-active");k&&a(b("-select-"+c.cls,1)+">div",j).addClass("ui-state-active");w(k,c)},A=function(b){a(this).children().toggleClass("ui-state-hover",!/^mouse(leave|out)$/.test(b.type))},B=function(b,c){var h=a("head link"),j=h.filter(".ui-theme"),d=j.filter(function(){return 0<=this.href.indexOf(b.folder)});d.length?j=
j.slice(j.index(d)+1).remove():(d=a('<link href="'+b.css+'" type="text/css" rel="stylesheet" class="ui-theme ui-switcher" />'),h=j.length?j.last():h.not(j).filter('[href$="jquery-ui.css"]').last(),h.length?h.after(d):a("head").append(d));j.filter(".ui-switcher").slice(0,-c).remove();h=j=d=h=null},C=function(c,e){var h=a(c.target),j=h.closest("li").data(b()),l=j.theme,g=h.closest(b("",1)).data(b()),f=g.options,g=g.themes,i=!1;if(l){if((g=g[l])&&(e||l!==d.current&&!1!==f.onSelect(l,d.current,n))){B(g,
f.keep);x(l,g);v();if(!e)f.onLoad(l,d.current);d.current=l}}else j.reset&&!1!==f.onReset(d.current,d.resetTo,n)?(a("head link.ui-switcher").remove(),x(d.resetTo,g[d.resetTo]||{}),v(),d.current=d.resetTo):j.remember&&(i=f.onRemember(n),!1!==i&&(i=h.is("input"),a(b("-remember-check",1)).not(h).each(function(){this.checked=!this.checked}),n=!n,w(d.current,g[d.current]||{})));return i},D=function(){var a=[],b=0,c={},d;for(d in g)a[b++]=d;a.sort();for(d=0;d<b;d++)c[a[d]]=g[a[d]];return c};a.each(d.themes,
function(a,b){var d=a.toLowerCase().replace(/[^a-z0-9]+/g,"-"),c,e,f;b&&!m[d]&&(c=(f=!1!==b.cdn)?b.folder||a.toLowerCase().replace(/\s+/g,"-"):b.folder,e=f?b.thumb||c.replace(/-/g,"_"):b.thumb,c&&e&&(++i,m[d]=a,g[a]={folder:c,css:f?y.replace(/\{folder\}/g,c):c,thumb:"url("+(f?z.replace(/\{thumb\}/g,e):e)+")",cls:d,cdn:f},s=s||a===u))});if(i){c.sorted&&(g=D());c.keep=isNaN(e)||1>e?1:e;if(d.instCt++)r=d.current;else if(a("head link").filter(function(){var a,b;for(a in g)if(b=0<=this.href.indexOf(g[a].folder)){r=
a;break}return b}).addClass("ui-theme"),d.resetTo=r,i=(i=a("body").get(0))?(" "+(i.className||"")+" ").match(/\s(uithemeswitch-theme-[^\s]+)\s/):i)d.bcls=i[1];e=a("<ul/>").css({listStyleType:"none",overflow:"auto",overflowX:"hidden"}).addClass(b("-ul ui-corner-bottom")).click(C).append(a("<li></li>").data(b(),{remember:1})[c.showRemember&&p?"show":"hide"]().append(a("<div/>").addClass(b("-remember")).text(c.textRemember).append(a('<input type="checkbox" value="1" /></div>').addClass(b("-remember-check")).each(function(){this.checked=
n}))),a("<li></li>").data(b(),{reset:1})[c.showReset?"show":"hide"]().append(a("<div/>").text(c.textReset).addClass(b("-reset"))));for(m in g)e.append(a("<li></li>").data(b(),{theme:m}).addClass(b("-select-"+g[m].cls)).append(a("<div/>").append(a("<div/>").css({backgroundImage:g[m].thumb}).addClass(b("-theme")+(f?"-compact":"")).text(m))));a("li",e).addClass(b("-li ui-corner-bottom")).hover(A).children().addClass(b("-wrap ui-widget-content ui-corner-all"));e=a("<div/>").append(e).hide();(i={all:o,
list:e}[c.closeMouseout])&&i.mouseleave(function(){a(this).closest(b("",1)).accordion("activate",!1);return!1});i=a("a",q).addClass(b("-button")).append(a("<span/>").addClass(b("-prompt")).text(c.textPrompt),a("<span/>").addClass(b("-current")).text(c.textCurrent).append(a("<span/>").addClass(b("-current-theme"))));c.themeRollover&&i.addClass(b("-rollover")).hover(function(c){a(this).toggleClass(b("-rollover"),/^mouse(leave|out)$/.test(c.type))});o.addClass(b()).data(b(),{options:c,themes:g}).append(q.addClass(b("-header")),
e.addClass(b("-content"))).accordion({active:!1,collapsible:!0});if(s||r)a(b("-select-"+g[s?u:r].cls,1),o).trigger("click",[!0])}}},a.fn.uithemeswitch=function(f,o){a.fn.accordion&&this.each(function(){var d=a.uithemeswitch,c=a(this).hasClass("uithemeswitch"),e;"destroy"===f&&c?d[f].call(this):"reset"===f&&c?a(".uithemeswitch-reset",this).trigger("click"):"select"===f&&o?a('.uithemeswitch-content li:[data-uitheme="'+o+'"]',this).trigger("click"):c||(e=a(this).data()||{},e.uts=e.uts||{},a.each(e,function(c,
d){/^uts([A-Z][a-z]+)+$/.test(c)?e.uts[c.substr(3,1).toLowerCase()+c.substr(4)]=d:/^uts(-[a-z]+)+$/.test(c)&&(c=a.map(c.split("-"),function(a,c){return c?1<c?a.substr(0,1).toUpperCase()+a.substr(1):a:null}).join(""),e.uts[c]=d)}),d.init.call(this,a.extend({},f||{},e.uts)))});return this})})(jQuery);